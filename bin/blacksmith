#!/usr/bin/env node

var fs = require('fs'),
    path = require('path');

//
// TODO: This is a really limited approach.
//
var root = path.normalize(process.argv[2] || process.cwd());

console.log('Rendering: ' + root);

if (!fs.existsSync(root))) {
  return console.log('Path ' + root + ' does not exist.');
}

require('../lib/blacksmith')(root, function (err) {
  if (err) {
    console.log('Error rendering: ' + root);
    console.dir(err);
    console.dir(err.stack.split('\n'));
    return;
  }
  
  console.log('Done rendering: ' + root);
});